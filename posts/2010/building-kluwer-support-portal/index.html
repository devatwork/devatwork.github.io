<!DOCTYPE html><html lang="en"><head><!-- Meta--><meta charset="utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Building Kluwer Support Portal - a Developers Perspective | Dev @ Work</title><meta name="description" content="A day in the life of a developer"><meta name="keywords" content="Trilobyte, Bert Willems, Dev @ Work, dev at work, Bert, Willems, developer, software, programmer, lead developer, architect, JavaScript, dotNET, liferay, liones"><meta name="author" content="Bert Willems"><meta name="generator" content="DocPad v6.64.0" /><meta name="viewport" content="width=device-width"><!-- Icons--><link rel="shortcut icon" href="/ico/favicon.gif"><!--[if lt IE 9]><script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- Styles--><link  rel="stylesheet" href="/vendor/prettify.css" /><link  rel="stylesheet" href="/vendor/components-bootstrap/css/bootstrap.css" /><link  rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" /><link  rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,400,400italic|Open+Sans+Condensed:300,700" /><link  rel="stylesheet" href="/styles/style.css" /><!-- RSS--><link rel="alternate" type="application/rss+xml" title="Post RSS feed - Dev@Work" href="/rss.xml"></head><body><div class="container"><div class="row top"><div class="col-lg-8 col-md-8 col-sm-7 col-left"><div class="brand"><a href="/">Dev @ Work.nl</a></div></div><div class="col-lg-4 col-md-4 col-sm-5 col-right"><nav><ul class="list-inline"><li><a href="/pages/posts">Blog</a></li><li><a href="/pages/projects">Projects</a></li><li><a href="/pages/presentations">Presentations</a></li><li><a href="/pages/about">About</a></li><li class="social"><a href="https://www.facebook.com/devatwork" title="facebook"><i class="fa fa-facebook-square"></i></a><a href="https://github.com/devatwork" title="github"><i class="fa fa-github-square"></i></a><a href="https://plus.google.com/111880992300867132101/" title="google plus"><i class="fa fa-google-plus-square"></i></a><a href="http://nl.linkedin.com/in/trilobyte" title="linkedin"><i class="fa fa-linkedin-square"></i></a><a href="https://twitter.com/devatwork" title="twitter"><i class="fa fa-twitter-square"></i></a></li></ul></nav></div></div><div class="row bottom"><div class="col-lg-8 col-md-8 col-sm-7 col-left"><section class="content"><article id="post" class="post"><hgroup><h1>Building Kluwer Support Portal - a Developers Perspective</h1><h2>Fri Dec 17 2010</h2><h3><span class="tag">liferay</span><span class="tag">liones</span></h3></hgroup><div class="post-content"><p>In the past two months we (<a title="Liones, Internetbureau voor uitgevers" href="http://www.liones.nl/" target="_blank">Liones</a>) build a new <a title="Enterprise open source portal and collaboration software - Liferay.com" href="http://www.liferay.com/" target="_blank">Liferay</a> based portal for <a title="Kluwer - a Wolters Kluwer business" href="http://www.kluwer.nl" target="_blank">Kluwer</a> (a major Dutch publisher), one of our clients. The purpose of this portal is to help the customers of Kluwer online products to understand and use their products better. This week the <a title="Kluwer Support" href="http://www.kluwer.nl/support/" target="_blank">Kluwer Support</a> portal was launched with success and I reckoned this was a good moment to share some insight in how we developed that particular portal and what problems we encountered during the development.</p><p>But let’s have a look at the result first:</p><p style="text-align: center;"><a href="/postcontent/kluwer-support.png"><img class="size-medium wp-image-832 aligncenter" title="Kluwer Support screenshot" src="/postcontent/kluwer-support-278x300.png" alt="" width="278" height="300" /></a></p><p>I hope you agree with me when I say that it looks great, I know for a fact a lot of people do. You can find the actual portal at <a title="Kluwer Support" href="http://www.kluwer.nl/support" target="_blank">http://www.kluwer.nl/support</a>, although the portal is in Dutch, feel free to look around.</p><p>In the next few paragraphs I will share some challenges we faced and the lessons we learned while implementing the Kluwer Support portal.</p><h3>Design</h3><p>One of the challenges for us in this project was to transform the graphical design, created by Evident, into HTML and then into a Liferay theme. Our front-end specialist, <a title="Vincent Smedinga" href="http://nl.linkedin.com/in/vincentsmedinga" target="_blank">Vincent Smedinga</a>, first transformed the PSD into HMTL using the latest versions of HTML 5, CSS 3 and other best front-end practices like Modernizr en Selectivzr. These technologies enabled him to create the HTML semantically correct, let it display correctly in older, less compliant browsers while staying true to the graphical design.</p><p>The now finished HTML needed to be transformed into Liferay components like themes, layouts and the actual portlets. That task proofed to be quiet challenging for <a title="Stef Busking" href="http://nl.linkedin.com/in/stefbusking" target="_blank">Stef Busking</a> (one of our Liferay software engineers) and me. The reason why this task was challenging is that fact that we needed to reuse as much standard Liferay components as possible. The two things that it so difficult and almost impossible were the different styles per portlet and the ‘read more’ links. Let have a look at some of the different ‘web-content display portlet’ styles used in the portal:</p><table><tbody><tr><td><img class="size-full wp-image-836" style="width: 172px; height: 120px;" title="web content display portlet 1" src="/postcontent/web-content-display-portlet-1.png" alt="" width="206" height="142" /></td><td><img class="size-full wp-image-837" style="width: 172px; height: 120px;" title="web content display portlet 2" src="/postcontent/web-content-display-portlet-2.png" alt="" width="244" height="144" /></td><td><img class="size-full wp-image-838" style="width: 172px; height: 120px;" title="web content display portlet 3" src="/postcontent/web-content-display-portlet-3.png" alt="" width="211" height="246" /></td></tr></tbody></table><p>Liferay, at least not version 5.2.8 EE, does not support these requirements out of the box (Not entirely true: Liferay does allow you to specify custom CSS rules per portlet instance, but you would need a front-end specialist to maintain the website which IMHO is not acceptable).</p><p>To make it even more difficult we were not allowed to use Liferay Ext or place many hooks or have impact on existing communities in the portal instance,  which, in my opinion, is a good thing. However, that forced us to think hard and we (although I should have said Stef here because he is the one who came up with the idea) found a clever solution to solve both problems with the use of one JSP hook.</p><p>I want you think about how you would have solved this problem in these fairly strict conditions. You can find <a title="Solving the Portlet Design Problem" href="http://www.devatwork.nl/2010/12/solving-the-portlet-design-problem/">the solution here</a>.</p><h3>Search</h3><p>Another problem we faced were the search requirements like ‘auto complete’ and sorting web content (FAQ entries and videos) according to their structure. We decided that the default Liferay search option would not be sufficient because we would not be able to implement the ‘auto complete’.</p><p>After researching several alternatives we choose to use one of the most powerful open-source enterprise search engines available: <a title="Apache Solr" href="http://lucene.apache.org/solr/" target="_blank">Apache Solr</a>. We implemented a client for it which uses the Liferay service bus to swap out the default Liferay search engine.</p><p>Now we had the proper infrastructure at our disposal it was a ‘trivial’ task to implement two custom portlets (search box in navigation bar and a result portlet). I quoted ‘trivial’ because it was not quiet trivial. We encountered a very annoying issue in the default web-content indexer Liferay provides:  it does not specify the structure ID nor the template ID in the document to be indexed.</p><p>I won’t go into specific how we solved this problem. It is sufficient to say that we are working on a robust solution which will ‘unpack’ the document  we receive from the indexer and enrich it with those fields before sending it to Solr for indexing.</p><h3>Wrap up</h3><p>Like always there is always more to share but that is really it for this post. Don’t forget to think about the ‘portlet design problem’ and stay tuned for our solution! As always: comments are most welcome.</p></div></article><div class="social-buttons"><div class="twitter-tweet-button service-button">
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="devatwork" data-related="devatwork">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div><div class="google-plus-one-button service-button">
	<div class="g-plusone" data-size="medium" data-href="http%3A//devatwork.nl/posts/2010/building-kluwer-support-portal"></div>
	<script>
		(function() {
			var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			po.src = 'https://apis.google.com/js/plusone.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
		})();
	</script>
</div><div class="reddit-submit-button service-button">
	<script type="text/javascript" src="http://en.reddit.com/static/button/button1.js"></script>
</div><div class="twitter-follow-button service-button">
	<a href="https://twitter.com/devatwork" class="twitter-follow-button" data-show-count="false">Follow @devatwork</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div><div class="github-follow-button service-button">
	<iframe src="//ghbtns.com/github-btn.html?user=devatwork&amp;type=follow&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="165" height="20"></iframe>
</div></div><div class="navlinks">
  <a href="/posts/2009/improve-your-site-search-engine" title="Previous Post: Extending your Successful Website: Improve your Search Engine" class="navlinks-prev">&laquo; Extending your Successful Website: Improve your Search Engine</a>
  <a href="/posts/2010/solving-the-portlet-design-problem" title="Next Post: Solving the Portlet Design Problem" class="navlinks-next">Solving the Portlet Design Problem &raquo;</a>
</div><footer></footer></section></div><div class="col-lg-4 col-md-4 col-sm-5 col-right"><section class="sidebar"><div class="panel panel-primary"><div class="panel-heading">Recent posts</div><ul class="list-group"><li class="list-group-item"><a href="/posts/2014/bye-old-stack-hello-new-stack">Bye old stack, hello 2014 stack</a></li><li class="list-group-item"><a href="/posts/2011/software-complexity">Software Complexity – Decomposing an Application</a></li><li class="list-group-item"><a href="/posts/2010/solving-the-portlet-design-problem">Solving the Portlet Design Problem</a></li><li class="list-group-item"><a href="/posts/2010/building-kluwer-support-portal">Building Kluwer Support Portal - a Developers Perspective</a></li><li class="list-group-item"><a href="/posts/2009/improve-your-site-search-engine">Extending your Successful Website: Improve your Search Engine</a></li></ul><div class="panel-footer clearfix"><a href="/pages/posts" class="pull-right">All posts&nbsp;<i class="fa fa-chevron-right"></i></a></div></div><div class="panel panel-primary"><div class="panel-heading">All projects</div><ul class="list-group"><li class="list-group-item"><a href="/projects/grunt-gluejs2">grunt-gluejs2</a></li><li class="list-group-item"><a href="/projects/inversejs">inverse.js</a></li></ul></div></section></div></div></div><!-- Scripts--><script >(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-4409537-1');
ga('send', 'pageview');</script><script defer="defer"  src="/vendor/prettify.js"></script><script defer="defer"  src="/vendor/jquery/jquery.js"></script><script defer="defer"  src="/vendor/components-bootstrap/js/bootstrap.js"></script><script defer="defer"  src="/vendor/log.js"></script><script defer="defer"  src="/vendor/modernizr.js"></script><script defer="defer"  src="/scripts/script.js"></script></body></html>